"use strict";import{Logger as a}from"./Logger.js";export var HttpMethod;(function(e){e.Get="get",e.Post="post",e.Delete="delete"})(HttpMethod||(HttpMethod={}));export async function sendRequest({url:e,method:n,body:s},t){const o=await fetch(e,{method:n,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)});let r;try{r=await o.json(),a.log(`${t} RPC Response`,r)}catch{if(!o.ok)throw new Error(o.statusText)}if(o.ok)return r;throw r.error?new Error(`Error coming from ${t}: ${r.error.message}`):r.message?new Error(r.message):r.msg?new Error(r.msg):r.data?new Error(r.data):r.detail?new Error(r.detail):r.message?new Error(r.message):r.nonFieldErrors?new Error(r.nonFieldErrors):r.delegate?new Error(r.delegate):new Error(o.statusText)}
