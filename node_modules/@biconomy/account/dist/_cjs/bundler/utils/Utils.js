"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.extractChainIdFromPaymasterUrl = exports.extractChainIdFromBundlerUrl = exports.extractChainIdFromUrl = void 0;
const extractChainIdFromUrl = (url) => {
    try {
        const regex = /\/(\d+)\//;
        const match = regex.exec(new URL(url).pathname);
        if (!match) {
            throw new Error("Chain ID not found in URL");
        }
        const chainId = Number.parseInt(match[1], 10);
        if (Number.isNaN(chainId)) {
            throw new Error("Invalid chain ID");
        }
        return chainId;
    }
    catch (error) {
        if (error instanceof Error) {
            throw new Error(`Invalid chain id: ${error.message}`);
        }
        throw new Error("Invalid chain id");
    }
};
exports.extractChainIdFromUrl = extractChainIdFromUrl;
const extractChainIdFromBundlerUrl = (url) => (0, exports.extractChainIdFromUrl)(url);
exports.extractChainIdFromBundlerUrl = extractChainIdFromBundlerUrl;
const extractChainIdFromPaymasterUrl = (url) => (0, exports.extractChainIdFromUrl)(url);
exports.extractChainIdFromPaymasterUrl = extractChainIdFromPaymasterUrl;
//# sourceMappingURL=Utils.js.map