"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.buildUserOperation = void 0;
const isSmartAccountClient_js_1 = require("../../client/isSmartAccountClient.js");
const account_js_1 = require("../../errors/account.js");
const client_js_1 = require("../../errors/client.js");
const initUserOperation_js_1 = require("./internal/initUserOperation.js");
const runMiddlewareStack_js_1 = require("./internal/runMiddlewareStack.js");
async function buildUserOperation(client, args) {
    const { account = client.account, overrides, context } = args;
    if (!account) {
        throw new account_js_1.AccountNotFoundError();
    }
    if (!(0, isSmartAccountClient_js_1.isBaseSmartAccountClient)(client)) {
        throw new client_js_1.IncompatibleClientError("BaseSmartAccountClient", "buildUserOperation", client);
    }
    return (0, initUserOperation_js_1._initUserOperation)(client, args).then((_uo) => (0, runMiddlewareStack_js_1._runMiddlewareStack)(client, {
        uo: _uo,
        overrides,
        account,
        context,
    }));
}
exports.buildUserOperation = buildUserOperation;
//# sourceMappingURL=buildUserOperation.js.map