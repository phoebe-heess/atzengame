"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.signUserOperation = void 0;
const isSmartAccountClient_js_1 = require("../../client/isSmartAccountClient.js");
const account_js_1 = require("../../errors/account.js");
const client_js_1 = require("../../errors/client.js");
const index_js_1 = require("../../utils/index.js");
async function signUserOperation(client, args) {
    const { account = client.account, context } = args;
    if (!account) {
        throw new account_js_1.AccountNotFoundError();
    }
    if (!(0, isSmartAccountClient_js_1.isBaseSmartAccountClient)(client)) {
        throw new client_js_1.IncompatibleClientError("BaseSmartAccountClient", "signUserOperation", client);
    }
    if (!client.chain) {
        throw new client_js_1.ChainNotFoundError();
    }
    return await client.middleware
        .signUserOperation(args.uoStruct, {
        ...args,
        account,
        client,
        context,
    })
        .then(index_js_1.resolveProperties)
        .then(index_js_1.deepHexlify);
}
exports.signUserOperation = signUserOperation;
//# sourceMappingURL=signUserOperation.js.map